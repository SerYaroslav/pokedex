(this.webpackJsonppokemon_api=this.webpackJsonppokemon_api||[]).push([[0],{19:function(e,t,n){e.exports=n(37)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),i=n(4),l=n(2),s=n(14),u=n(3),m=n(6),p={pokemon:null,selectedType:"All",pokemonList:[],filteredList:[],loading:!0,error:null,next:null},f=function(e,t){return"All"===t?e:e.filter((function(e){return e.types.includes(t)}))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COLECTION_REQUEST":return Object(m.a)({},e,{error:null,loading:!0});case"FETCH_COLECTION_SUCCESS":var n=[].concat(Object(u.a)(e.pokemonList),Object(u.a)(t.payload.colection)),a=t.payload.next;return Object(m.a)({},e,{loading:!1,pokemonList:n,filteredList:n,next:a,selectedType:"All"});case"FETCH_COLECTION_FAILURE":return Object(m.a)({},e,{loading:!1,error:t.payload});case"ON_POKEMON_SELECTED":var r=e.pokemonList.find((function(e){return e.id===t.payload}));return Object(m.a)({},e,{pokemon:r});case"ON_TYPE_SELECTED":var c=f(e.pokemonList,t.payload);return Object(m.a)({},e,{selectedType:t.payload,filteredList:c});default:return e}},E=Object(l.c)(d,Object(l.a)(s.a)),v=(n(30),function(){return r.a.createElement("header",null,"Pokedex")}),h=function(e){return{type:"ON_POKEMON_SELECTED",payload:e}},b=function(e){return{type:"ON_TYPE_SELECTED",payload:e}},O=function(e,t){return function(n){n({type:"FETCH_COLECTION_REQUEST"}),e.getColection(t).then((function(e){return n({type:"FETCH_COLECTION_SUCCESS",payload:e})})).catch((function(e){return n({type:"FETCH_COLECTION_FAILURE",payload:e})}))}},y=(n(31),Object(i.b)((function(e){return{selectedType:e.selectedType,pokemonList:e.pokemonList}}),(function(e){return Object(l.b)({onTypeSelected:b},e)}))((function(e){for(var t=e.selectedType,n=e.onTypeSelected,a=e.pokemonList.map((function(e){return e.types})),c=[],o=0;o<a.length;o++)c=[].concat(Object(u.a)(c),Object(u.a)(a[o]));var i=new Set(c),l=Object(u.a)(i);return r.a.createElement("label",null,"Select the type:",r.a.createElement("select",{value:t,onChange:function(e){return n(e.target.value)},className:"select_list"},r.a.createElement("option",{value:"All"},"All"),l.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))))}))),C=r.a.createContext(),k=C.Provider,_=C.Consumer,g=function(){return function(e){return function(t){return r.a.createElement(_,null,(function(n){return r.a.createElement(e,Object.assign({},t,{pokemonService:n}))}))}}},N=(n(32),function(){return r.a.createElement("div",{className:"lds-css"},r.a.createElement("div",{className:"lds-double-ring"},r.a.createElement("div",null),r.a.createElement("div",null)))}),j=(n(33),g()(Object(i.b)((function(e){return{filteredList:e.filteredList,loading:e.loading,next:e.next}}),(function(e){return Object(l.b)({onPokemonSelected:h,fetchColection:O},e)}))((function(e){var t=e.filteredList,n=e.loading,c=e.onPokemonSelected,o=e.fetchColection,i=e.pokemonService,l=e.next;if(Object(a.useEffect)((function(){o(i,"https://pokeapi.co/api/v2/pokemon?offset=0&limit=12")}),[o,i]),n)return r.a.createElement(N,null);return r.a.createElement("div",{className:"list_container"},t.map((function(e){return r.a.createElement("div",{className:"list_item",onClick:function(){return c(e.id)},key:e.name},r.a.createElement("img",{src:e.image,alt:e.name}),r.a.createElement("h3",null,e.name),r.a.createElement("div",{className:"type_container"},e.types.map((function(e){return r.a.createElement("span",{className:e.toLowerCase(),key:e},e)}))))})),r.a.createElement("button",{className:"load_btn",onClick:function(){o(i,l)}},"Load More"))})))),L=(n(34),Object(i.b)((function(e){return{pokemon:e.pokemon}}),null)((function(e){var t=e.pokemon;return t?(console.log(t),r.a.createElement("div",{className:"card_container"},r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{src:t.image,alt:"img"})),r.a.createElement("div",{className:"stat_container"},r.a.createElement("h2",null,t.name),r.a.createElement("div",{className:"stat_row"},r.a.createElement("div",null,"Type"),r.a.createElement("div",null,t.types.join(", "))),t.stats.sort((function(e,t){return e.statName<t.statName?-1:e.statName>t.statName?1:0})).map((function(e){return r.a.createElement("div",{className:"stat_row",key:e.statName},r.a.createElement("div",null,e.statName),r.a.createElement("div",null,e.statValue))})),r.a.createElement("div",{className:"stat_row"},r.a.createElement("div",null,"Weight"),r.a.createElement("div",null,t.weight)),r.a.createElement("div",{className:"stat_row"},r.a.createElement("div",null,"Total moves"),r.a.createElement("div",null,t.totalMoves))))):null})));n(35);var T=function(){return r.a.createElement("main",{className:"app_container"},r.a.createElement(v,null),r.a.createElement(y,null),r.a.createElement("div",{className:"content_container"},r.a.createElement(j,null),r.a.createElement(L,null)))},w=n(8),x=n(15),S=n(17),P=n(16),U=n(18),D=function(){return r.a.createElement("div",null,r.a.createElement("span",null,"BOOM!"),r.a.createElement("span",null,"something has gone terribly wrong"))},I=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(S.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},n}return Object(U.a)(t,e),Object(x.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(D,null):this.props.children}}]),t}(a.Component),A=n(1),F=n.n(A),R=n(5),H=new function e(){var t=this;Object(w.a)(this,e),this._apiBase="https://pokeapi.co/api/v2",this._firstColectionUrl="".concat(this._apiBase,"/pokemon?offset=0&limit=12"),this.getResource=function(){var e=Object(R.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t," +\n      , received ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPokemon=function(){var e=Object(R.a)(F.a.mark((function e(n){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(n);case 2:return a=e.sent,e.abrupt("return",t._transformPokemonData(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getColection=function(){var e=Object(R.a)(F.a.mark((function e(n){var a,r,c,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getColectionUrls(n);case 2:return a=e.sent,r=Object(u.a)(a.pokemonsColection),c={colection:[],next:a.toLoadNext,previous:a.toLoadPrevious},o=function(){var e=Object(R.a)(F.a.mark((function e(){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<r.length)){e.next=10;break}return e.t0=c.colection,e.next=5,t.getPokemon(r[n]);case 5:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 7:n++,e.next=1;break;case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=8,o();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getColectionUrls=function(){var e=Object(R.a)(F.a.mark((function e(n){var a,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(n);case 2:return a=e.sent,r=t._transformColectionData(a),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformPokemonData=function(e){var t=function(e){return e?e[0].toUpperCase()+e.slice(1):e},n=function(e){if("hp"===e.toLowerCase())return e.toUpperCase();if(e.includes("-")){var n=e.split("-");return"".concat(n[0].slice(0,2).toUpperCase()," ").concat(t(n[1]))}return t(e)},a=e.abilities.map((function(e){return t(e.ability.name)})),r=e.types.map((function(e){return t(e.type.name)})),c=e.stats.map((function(e){return{statName:n(e.stat.name),statValue:e.base_stat}}));return{id:e.id,name:t(e.name),height:e.height,weight:e.weight,stats:c,abilities:a,image:e.sprites.front_default,types:r,totalMoves:e.moves.length}},this._transformColectionData=function(e){var t=e.results.map((function(e){return e.url}));return{toLoadNext:e.next,toLoadPrevious:e.previous,pokemonsColection:t}}};o.a.render(r.a.createElement(i.a,{store:E},r.a.createElement(I,null,r.a.createElement(k,{value:H},r.a.createElement(T,null)))),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.6127ad1d.chunk.js.map